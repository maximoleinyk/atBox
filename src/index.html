<!doctype>
<html>
<head>
    <title>@Box</title>
    <link rel="stylesheet" href="../node_modules/normalize.css/normalize.css"/>
    <link rel="stylesheet" href="styles/box.css"/>
    <script src="main.js"></script>
    <script src="scripts/box.js"></script>
</head>
<body>
<div id="root">
    <p class="meet-at-box">Meet @box</p>
    <div class="app-root"></div>
</div>
<div class="page-output">
    <div>
        <b>Tokens:</b>
        <pre class="app-output-tokens"></pre>
    </div>
    <div>
        <b>Lexemes:</b>
        <pre class="app-output-lexemes"></pre>
    </div>
    <div>
        <b>AST:</b>
        <pre class="app-output-ast"></pre>
    </div>
    <div>
        <b>Output:</b>
        <pre class="app-output-translation"></pre>
    </div>
</div>
<script>
  box({
    root: '.app-root',
    label: '',
    placeholder: 'Click here or start typing',
    queryFields: [
      {
        field: 'name',
        fieldType: 'string',
        label: 'name'
      },
      {
        field: 'forename',
        fieldType: 'string',
        label: 'forename'
      },
      {
        field: 'surname',
        fieldType: 'string',
        label: 'surname'
      },
      {
        field: 'age',
        fieldType: 'string',
        label: 'age'
      },
      {
        field: 'status',
        fieldType: 'enum',
        label: 'status',
        values: [
          'Married',
          'Single',
          'Engaged',
          'Complicated'
        ]
      }
    ],
    onChange: function(outputJSON) {
        const tokens = JSON.stringify(outputJSON.tokens, null, 2);
        const lexemes = JSON.stringify(outputJSON.lexemes, null, 2);
        const ast = JSON.stringify(outputJSON.ast, null, 2);
        const translation = JSON.stringify(outputJSON.output, null, 2);
        document.querySelector('.app-output-tokens').innerHTML = tokens;
        document.querySelector('.app-output-lexemes').innerHTML = lexemes;
        document.querySelector('.app-output-ast').innerHTML = ast;
        document.querySelector('.app-output-translation').innerHTML = translation;
    }
  });
</script>
</body>
</html>